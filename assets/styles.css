/* DMAR PRO THEME v2 (Netlify) */
*{box-sizing:border-box}html,body{margin:0;padding:0}
:root{--bg:#fff;--text:#333;--muted:#566070;--brand:#0A5694;--border:#E6EAF0;--radius:16px;--shadow:0 10px 30px rgba(0,0,0,.07);--max:1200px;--green:#0b8a4a}
body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--text);background:var(--bg);line-height:1.6}
h1,h2,h3{line-height:1.15;margin:0 0 8px}
a{color:var(--brand);text-decoration:none}
.container{max-width:var(--max);margin:0 auto;padding:0 20px}
.btn{display:inline-flex;align-items:center;gap:.5rem;background:var(--brand);color:#fff;padding:.78rem 1.1rem;border-radius:999px;font-weight:700;border:1px solid #084a7e;box-shadow:var(--shadow);transition:transform .15s ease}
.btn:hover{transform:translateY(-1px)}.btn.alt{background:#fff;color:var(--brand);border-color:var(--brand)}
.badge{display:inline-block;padding:.28rem .6rem;border:1px solid var(--border);border-radius:999px;color:#0A5694;background:#eaf3fb;font-size:.8rem}
.small{font-size:.95rem;color:#556070}
hr.sep{border:none;height:1px;background:var(--border);margin:20px 0}

/* Announcement bar */
.topbar{position:sticky;top:0;z-index:70;background:linear-gradient(90deg,var(--brand),#0b8a4a);color:#fff}
.topbar .row{display:flex;gap:14px;align-items:center;justify-content:center;min-height:38px;padding:6px 20px}
.topbar .dot{width:8px;height:8px;border-radius:999px;background:#fff;animation:pulse 1.4s infinite ease-in-out}
@keyframes pulse{0%{opacity:.4;transform:scale(.7)}50%{opacity:1;transform:scale(1)}100%{opacity:.4;transform:scale(.7)}}
.topbar .close{position:absolute;right:10px;top:6px;background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer}

/* Header (refined) */
header{position:sticky;top:0;z-index:61;background:rgba(255,255,255,.95);backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
.nav{display:flex;align-items:center;gap:18px;min-height:72px}
.nav .left{display:flex;align-items:center;gap:16px}
.logo{height:38px}
.nav .mid{flex:1 1 auto;display:flex;justify-content:center}
.nav .mid ul{display:flex;gap:22px;list-style:none;margin:0;padding:0}
.nav .mid a{color:#111;font-weight:600;opacity:.85}
.nav .mid a:hover{opacity:1}
.nav .right{display:flex;gap:10px;align-items:center}
.burger{display:none}
@media (max-width:1020px){
  .nav .mid{display:none}
  .burger{display:inline-flex}
}
/* Mobile drawer */
.mobile{position:fixed;inset:110px 0 0;background:#fff;border-top:1px solid var(--border);padding:8px 16px 16px;display:none}
.mobile.open{display:block}
.mobile a{display:block;padding:12px 6px;border-bottom:1px solid var(--border);color:#111;font-weight:600}

/* Hero */
.hero{position:relative;padding:90px 0 40px;background:linear-gradient(180deg,#f6f9fc 0%,#ffffff 66%)}
.hero .wrap{display:grid;gap:24px;grid-template-columns:1.1fr .9fr;align-items:center}
.hero h1{font-size:clamp(32px,4.5vw,54px)}
.subtitle{color:var(--muted);max-width:80ch}
.hero .art{min-height:300px;border-radius:22px;border:1px solid var(--border);overflow:hidden;box-shadow:var(--shadow)}
.hero .art img{width:100%;height:100%;object-fit:cover;display:block}

/* Sections */
.section{padding:60px 0}.section h2{font-size:clamp(24px,3.2vw,34px);margin:0 0 10px}.section p.lead{color:var(--muted);max-width:80ch}
.grid{display:grid;gap:24px}
.cards{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.card{background:#fff;border:1px solid var(--border);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow)}
.kpi{display:flex;gap:14px;align-items:center;color:#566070;font-size:.95rem;flex-wrap:wrap}
.table{width:100%;border-collapse:collapse}.table th,.table td{padding:12px 10px;border-bottom:1px solid var(--border);text-align:left}.table th{color:#0A5694;font-weight:700}
.faq dt{font-weight:700;margin-top:14px}.faq dd{margin:6px 0 16px 0;color:#556070}

/* Sustainability wave */
.s-hero{position:relative;isolation:isolate;padding:80px 0 40px;background:linear-gradient(180deg,rgba(11,138,74,.12),#fff 60%)}
.wave{position:absolute;inset:auto 0 0;height:160px;overflow:hidden;z-index:-1}
.wave svg{display:block;width:100%;height:160px}
#flow1{animation:flow 14s linear infinite}#flow2{animation:flow 18s linear infinite reverse;opacity:.6}@keyframes flow{to{transform:translateX(-50%)}}
.brand-row{display:flex;gap:20px;align-items:center;flex-wrap:wrap;opacity:.9}.brand-row img{height:38px;filter:grayscale(10%) saturate(110%)}

/* Footer & sticky CTA */
footer{border-top:1px solid var(--border);background:#f7f9fc;padding:30px 0;color:#334155;font-size:.95rem}
footer .cols{display:grid;gap:20px;grid-template-columns:2fr 1fr 1fr}@media (max-width:900px){footer .cols{grid-template-columns:1fr}}
.sticky-cta{position:fixed;right:16px;bottom:16px;z-index:80}
.notice{background:#fff7ed;border:1px solid #fed7aa;color:#9a3412;border-radius:12px;padding:10px 12px;font-size:.9rem}

/* Utilities */
.hidden{display:none!important}

/* ==== Mobile polish (v3) ==== */

/* Form controls (mobile-friendly, 16px+ to avoid iOS zoom) */
input, textarea, select {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: 12px;
  font-size: 16px;
  outline: none;
  background: #fff;
}
input:focus, textarea:focus, select:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 3px rgba(10,86,148,.15);
}

/* Buttons: minimum 44px touch targets */
.btn { min-height: 44px; }
a, button { -webkit-tap-highlight-color: rgba(0,0,0,0); }

/* Hero and grids collapse nicely on phones */
@media (max-width: 1020px){
  .nav .mid { display:none }
  .burger { display:inline-flex }
  .nav .right .btn.alt { display:none } /* hide brochure on small screens */
}
@media (max-width: 780px){
  .container{ padding: 0 16px }
  .hero{ padding:56px 0 20px }
  .hero .wrap{ grid-template-columns: 1fr; gap:16px }
  .hero .art{ height: 300px }
  .section{ padding: 42px 0 }
  .cards{ grid-template-columns: 1fr }
  figure.card img{ height: 180px }
  footer .cols{ grid-template-columns: 1fr }
}

/* Mobile drawer height & scroll */
.mobile{
  max-height: calc(100dvh - 110px);
  overflow:auto;
  -webkit-overflow-scrolling: touch;
}

/* Subtle improvements to readability */
body{ line-height: 1.65 }
.subtitle{ font-size: 1.02rem }


/* --- Mobile stability + overlay --- */
html,body{overflow-x:hidden}
.scrim{position:fixed;inset:0;background:rgba(0,0,0,.35);opacity:0;pointer-events:none;transition:opacity .15s ease;z-index:59}
.scrim.open{opacity:1;pointer-events:auto}
.mobile{position:fixed;left:0;right:0;top:110px;background:#fff;border-top:1px solid var(--border);padding:18px;display:none;z-index:60;max-height:calc(100dvh - 110px);overflow:auto;-webkit-overflow-scrolling:touch}
.mobile.open{display:block}
@media (max-width:780px){
  .topbar{position:static}
  .sticky-cta{display:none}
}
html.nav-open, body.nav-open{overflow:hidden;touch-action:none}


/* ===== Mobile compact header + action bar (v5) ===== */
@media (max-width: 780px){
  .logo{ height:30px }
  .nav{ min-height:64px }
  .nav .right .btn{ display:none }       /* hide big CTAs on phone */
  .nav .right .btn.burger{ display:inline-flex; } /* keep burger visible */
  .btn.burger{ padding:8px 12px; font-size:14px }
  .hero h1{ font-size: clamp(26px, 7.5vw, 42px); }
  .subtitle{ font-size: 1rem }
}

/* Mobile bottom action bar (safe-area aware) */
.action-bar{
  position:fixed;left:0;right:0;
  bottom:0;
  background:#fff;border-top:1px solid var(--border);
  padding:10px 12px calc(10px + env(safe-area-inset-bottom, 0));
  display:none;z-index:70;gap:10px;align-items:center;justify-content:center
}
@media (max-width:780px){ .action-bar{ display:flex } }
.action-bar .btn{ flex:1 1 0; justify-content:center; min-height:44px }

/* NAV SLIDE */
.mobile{transform:translateY(-8px);opacity:0;transition:transform .18s ease, opacity .18s ease}
.mobile.open{transform:translateY(0);opacity:1}
.scrim{transition:opacity .15s ease}


/* ===== v7 mobile drawer & header polish ===== */
header{position:sticky;top:0;z-index:1000;background:rgba(255,255,255,.98);backdrop-filter:blur(8px)}
.nav{min-height:64px}

.mobile{
  position:fixed;left:0;right:0;top: var(--hdr-h,64px);
  padding-top: 16px;
  background:#fff;border-top:1px solid var(--border);
  display:none;z-index:999;max-height: calc(100dvh - var(--hdr-h,64px));overflow:auto;
  -webkit-overflow-scrolling:touch;
  box-shadow:0 8px 24px rgba(0,0,0,.12);
}
.mobile.open{display:block}
.mobile a{display:block;padding:12px 18px;border-bottom:1px solid var(--border);font-weight:600;color:#111}

.scrim{position:fixed;inset:0;background:rgba(0,0,0,.35);opacity:0;pointer-events:none;z-index:998}
.scrim.open{opacity:1;pointer-events:auto}

.btn.burger{pointer-events:auto}

/* Slide animation */
.mobile{transform:translateY(-8px);opacity:0;transition:transform .18s ease,opacity .18s ease}
.mobile.open{transform:translateY(0);opacity:1}

@media (max-width:780px){
  .nav .right .btn{display:none}
  .btn.burger{display:inline-flex;padding:8px 12px;font-size:14px}
  .logo{height:30px}
}


/* v8: ensure header is always clickable and above all */
header, .nav, .nav .right, .btn.burger{ position:relative; z-index: 1001; }
.mobile{ z-index: 1000; }
.scrim{ z-index: 999; }

/* Protect from any accidental overlay from first section */
main > section:first-child{ position:relative; z-index: 0; }

/* Improved mobile drawer for visibility */
.mobile {
  position: fixed;
  left: 0;
  right: 0;
  top: var(--hdr-h, 64px);
  background: #fff;
  border-top: 1px solid var(--border);
  display: none;
  z-index: 1000;
  max-height: calc(100dvh - var(--hdr-h, 64px));
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  box-shadow: 0 8px 32px rgba(0,0,0,.18);
  padding: 32px 24px 24px 24px;
  border-radius: 0 0 18px 18px;
  opacity: 0;
  transform: translateY(-12px);
  transition: transform .22s cubic-bezier(.4,0,.2,1), opacity .22s cubic-bezier(.4,0,.2,1);
}
.mobile.open {
  display: block;
  opacity: 1;
  transform: translateY(0);
}
.mobile a {
  display: block;
  padding: 18px 12px;
  border-bottom: 1px solid var(--border);
  font-weight: 600;
  color: #111;
  font-size: 1.15rem;
}

/* Improved scrim overlay for mobile nav */
.scrim {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  opacity: 0;
  pointer-events: none;
  z-index: 999;
  transition: opacity .18s cubic-bezier(.4,0,.2,1);
}
.scrim.open {
  opacity: 1;
  pointer-events: auto;
}
/* =========================
   DMAR — Mobile Drawer & Contact polish (v10)
   ========================= */

/* --- Layering & safe-area --- */
header, .nav, .btn.burger { position: relative; z-index: 1001; }
.scrim { position: fixed; inset: 0; background: rgba(0,0,0,.45); opacity: 0; pointer-events: none; z-index: 999; transition: opacity .18s cubic-bezier(.4,0,.2,1); }
.scrim.open { opacity: 1; pointer-events: auto; }

/* Lock body scroll when drawer is open */
html.nav-open, body.nav-open { overflow: hidden; touch-action: none; }

/* --- Drawer: make it bigger, readable, scrollable --- */
:root{ --hdr-h: 64px; }            /* JS can update this to real header height */

.mobile{
  position: fixed;
  left: 0; right: 0;
  top: var(--hdr-h, 64px);         /* sits right under the header */
  max-height: calc(100dvh - var(--hdr-h, 64px));
  /* Safari fallback */
  /* max-height: calc(-webkit-fill-available - var(--hdr-h, 64px)); */
  background: #fff;
  border-top: 1px solid #E6EAF0;
  border-radius: 0 0 18px 18px;
  padding: 28px 22px 18px;
  box-shadow: 0 10px 34px rgba(0,0,0,.18);
  display: none;                   /* default hidden */
  z-index: 1000;
  overflow: auto;                  /* scroll if long */
  -webkit-overflow-scrolling: touch;
  opacity: 0;                      /* animate in */
  transform: translateY(-12px);
  transition: transform .22s cubic-bezier(.4,0,.2,1), opacity .22s cubic-bezier(.4,0,.2,1);
}
.mobile.open{ display:block; opacity:1; transform: translateY(0); }

/* Bigger, clearer tap targets */
.mobile a{
  display: block;
  padding: 16px 10px;
  margin: 2px 0;
  border-bottom: 1px solid #E6EAF0;
  color: #111;
  font-weight: 700;
  font-size: 17px;
  letter-spacing: .2px;
  text-decoration: none;
}
.mobile a:last-child{ border-bottom: 0; }

/* Tiny phones: dial back font/padding slightly */
@media (max-width: 360px){
  .mobile { padding: 22px 16px 14px; }
  .mobile a { font-size: 16px; padding: 14px 8px; }
}

/* --- Bottom action bar (Call / Contact) — make smaller --- */
.action-bar{
  position: fixed; left: 0; right: 0; bottom: 0;
  background: #fff; border-top: 1px solid #E6EAF0;
  padding: 8px 10px calc(8px + env(safe-area-inset-bottom, 0));
  display: flex; gap: 8px; align-items: center; justify-content: center;
  z-index: 70;
}
.action-bar .btn{
  min-height: 42px;               /* was big: bring it down */
  padding: 10px 14px;             /* tighter but still 44px-ish target */
  border-radius: 12px;
  font-size: 15px;
}
@media (max-width: 390px){
  .action-bar .btn{ font-size: 14px; padding: 9px 12px; min-height: 40px; }
}

/* --- Contact page/form — reduce ‘squeezed’ feel --- */
.contact form, .contact .form, .contact-form{
  max-width: 820px;               /* stop stretching too wide on desktop */
  margin-inline: auto;
}
.contact form .grid{
  display: grid; gap: 12px;
  grid-template-columns: 1fr 1fr;
}
@media (max-width: 760px){
  .contact form .grid{ grid-template-columns: 1fr; } /* one column on phone */
}
/* Inputs smaller but comfortable on iOS (>=16px to avoid zoom) */
.contact input, .contact select, .contact textarea{
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #E6EAF0;
  border-radius: 12px;
  font-size: 16px;
  background: #fff;
}
.contact textarea{
  min-height: 120px;              /* was tall: reduce */
  resize: vertical;
}
.contact button.btn{
  padding: 11px 16px;
  min-height: 44px;
  border-radius: 12px;
  font-size: 15px;
}

/* --- Header polish on phone (keeps menu button tidy) --- */
@media (max-width: 780px){
  .logo{ height: 30px; }
  .nav{ min-height: 64px; }
  .nav .right .btn:not(.burger){ display: none; } /* hide giant CTAs on phone */
  .btn.burger{ padding: 8px 12px; font-size: 14px; }
}
/* =========================
   DMAR — Mobile polish pack (drawer + careers + contact + buttons)
   Paste at the END of styles.css
   ========================= */

/* 1) Drawer: reduce top padding so first item is visible immediately */
.mobile{
  padding-top: 14px !important;     /* was 22–28px; show “Services” instantly */
  padding-left: 18px !important;
  padding-right: 18px !important;
}
.mobile a{                           /* keep strong tap targets */
  font-size: 16.5px;
  padding: 14px 8px;
}
@media (max-width: 360px){
  .mobile a{ font-size: 16px; padding: 12px 8px; }
}

/* If your drawer has a UL wrapper like .menu-list, kill any accidental spacing */
.mobile .menu-list,
.mobile .menu,
.mobile nav { margin-top: 0 !important; }

/* 2) Header & top spacing — just a touch tighter on phones */
@media (max-width: 780px){
  header{ min-height: 58px; }
  .logo{ height: 28px; }
  .nav{ padding-block: 6px; }
}

/* 3) Announcement banner (We’re hiring…): make smaller on phones */
@media (max-width: 780px){
  .announcement, .notice, .hiring-banner{
    font-size: 14px !important;
    line-height: 1.3 !important;
    padding: 8px 12px !important;
  }
}

/* 4) Global button look — match the squared style of Call/Contact
      (Keeps sizes sensible; Call/Contact you already liked will stay similar) */
.btn, .button, a.btn, button.btn-primary, .cta{
  border-radius: 12px !important;     /* match Call/Contact */
  min-height: 44px;
  padding: 10px 14px;
  font-weight: 700;
}
.btn-outline, .button-outline{
  border-radius: 12px !important;
}

/* 5) Contact page — make cards and form slightly smaller & airier */
.contact .card, .contact-card{
  padding: 14px 14px !important;      /* was chunky; tighter works better on mobile */
  border-radius: 16px;
}
.contact h1, .contact h2{ font-size: clamp(22px, 4.8vw, 28px); }
.contact p.lead{ font-size: clamp(16px, 4.4vw, 18px); }
.contact .grid{
  display: grid; gap: 12px;
  grid-template-columns: 1fr;         /* single column on phone */
}
@media (min-width: 760px){
  .contact .grid{ grid-template-columns: 1fr 1fr; } /* 2 col on tablet/desktop */
}

/* Form controls: slightly smaller but >=16px to avoid iOS zoom */
.contact input, .contact select, .contact textarea{
  font-size: 16px;
  padding: 10px 12px;
  border-radius: 12px;
}
.contact textarea{ min-height: 120px; }

/* Direct contacts block: ensure it fits without overflow */
.contact .direct-contacts, .contact .contacts, .contact .right-card{
  font-size: 15px;                    /* nudge down so long lines fit */
  line-height: 1.45;
}
.contact .direct-contacts h3,
.contact .contacts h3{
  font-size: 18px;
  margin-bottom: 8px;
}

/* 6) Careers page — scale down inputs/cards & tighten layout */
.careers h1{ font-size: clamp(24px, 6vw, 32px); }
.careers p.lead{ font-size: clamp(16px, 4.4vw, 18px); }
.careers .grid{
  display: grid; gap: 12px;
  grid-template-columns: 1fr;         /* phones: stack */
}
@media (min-width: 760px){
  .careers .grid{ grid-template-columns: 1fr 1fr; } /* two columns on larger screens */
}
.careers .card, .careers-card{
  padding: 14px 14px !important;
  border-radius: 16px;
}
.careers input, .careers select, .careers textarea{
  font-size: 16px;
  padding: 10px 12px;
  border-radius: 12px;
}
.careers .upload button, .careers .btn-upload{
  border-radius: 12px;
  min-height: 44px;
  padding: 10px 14px;
}

/* 7) Bottom action bar (Call/Contact) — keep compact and consistent */
.action-bar{
  padding: 8px 10px calc(8px + env(safe-area-inset-bottom, 0));
}
.action-bar .btn{ min-height: 42px; padding: 10px 14px; font-size: 15px; }

/* 8) Extra: if your drawer uses a CSS var for header height, trim it slightly on phones
   (prevents a big white band above the first item) */
@media (max-width: 780px){
  :root{ --hdr-h: 56px; }             /* was ~64px; adjust to your real header */
}

